## Получение токена

Базовый URL для всех запросов - https://acelan.ru

Для получения токена авторизации нужно выполнить
POST-запрос на URL 
```
/api/token
```
c параметрами:
```json
{
  "email": "",
  "password": ""
}
```

Токен следует передавать в заголовке Authorization в формате во всех остальных методах API:
```
Bearer <token>
```

## Список задач

Задачи (tasks) - это поставленные в очередь или решенные конечно-элементные задачи.
Для получения задач нужно выполнить GET-запрос на URL
```
/api/tasks/
```
В ответ придет список задач в формате:
```json
{
  "tasks": [
    {
      "id": 7,
      "name": "Task name",
      "status": "queued|working|failure|success",
      "started_at": "2023-04-12 12:11:43.209964",
      "finished_at": "2023-04-12 12:14:43.209964"
    }
  ]
}
```

## Детали задачи

Для получения конкретной задачи нужно выполнить GET-запрос на URL
```
/api/tasks/:id
```
В ответ придет представление задачи в формате:
```json
{
      "id": 7,
      "name": "Task name",
      "status": "queued|working|failure|success",
      "started_at": "2023-04-12 12:11:43.209964",
      "finished_at": "2023-04-12 12:14:43.209964",
      "artifacts": [
        {
          "id": 30,
          "file_type": "ply",
          "url": "https://acelan.ru/artifacts/canstick.ply"
        }
      ]
}
```
Артефакты - это файлы, созданные входе решения задачи. Файлы могут быть разного типа: 
сетки, картинки, таблицы, что угодно.
Тип файла указан в поле `file_type`. Ссылки на скачивание артефактов абсолютные, при загрузке
артефакта не нужно использовать базовый URL.

## Список материалов

Пользователю видны общие материалы пакета и его личные материалы.
Для получения материалов нужно выполнить GET-запрос на URL
```
/api/materials?search=pzt
```
В ответ придет список материалов в формате:
```json
{
  "tasks": [
    {
      "id": 7,
      "name": "PZT-4 3-3 80%",
      "type": "Isotropic|Anisotropic|Liquid|...",
      "source": "https://jacm.scu.ac.ir/article_18008.html",
      "created_at": "2023-04-12 12:11:43.209964",
      "updated_at": "2023-04-12 12:14:43.209964",
      "core": true
    }
  ]
}
```

## Детали материала

Для получения конкретного материала нужно выполнить GET-запрос на URL
```
/api/materials/:id
```
В ответ придет представление материала в формате:
```json
{
  "id": 7,
  "name": "PZT-4 3-3 80%",
  "type": "Isotropic|Anisotropic|Liquid|...",
  "source": "https://jacm.scu.ac.ir/article_18008.html",
  "created_at": "2023-04-12 12:11:43.209964",
  "updated_at": "2023-04-12 12:14:43.209964",
  "core": true,
  "properties": {
    
  }
}
```
Свойства материала передаются во вложенном объекте properties. Свойста зависят от типа материала.
Это могут быть скалярные и матричные данные. Матричные данные представлены объектами JSON, в которых
заполнены только ненулевые элементы. Пример свойств для анизотропного материала:
```json
{
  "stiffness": {
    "c11": 11.56,
    "c12": 6.15,
    "c13": 5.82,
    "c33": 9.53,
    "c44": 2.23
  },
  "piezo": {
    "e31": -4.23,
    "e33": 13.38,
    "e15": 10.96
  },
  "density": 6750,
  "dielectric": {
    "k11": 663,
    "k33": 567
  }
}
```
